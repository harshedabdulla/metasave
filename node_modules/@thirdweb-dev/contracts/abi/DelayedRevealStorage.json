{"abi":[{"type":"function","name":"DELAYED_REVEAL_STORAGE_POSITION","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"}],"bytecode":{"object":"0x60a6610038600b82828239805160001a607314602b57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe730000000000000000000000000000000000000000301460806040526004361060335760003560e01c80631c46bf9c146038575b600080fd5b605e7f29cbb6a3768b42f407b01945994a37861bf5a2179c5dea5be7e378415e75510081565b60405190815260200160405180910390f3fea26469706673582212204cb1813a0c2b479b2e59c42c15885ca1c0f26dfb0ef84599102d6a8159bcf78564736f6c63430008170033","sourceMap":"129:700:171:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;129:700:171;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040526004361060335760003560e01c80631c46bf9c146038575b600080fd5b605e7f29cbb6a3768b42f407b01945994a37861bf5a2179c5dea5be7e378415e75510081565b60405190815260200160405180910390f3fea26469706673582212204cb1813a0c2b479b2e59c42c15885ca1c0f26dfb0ef84599102d6a8159bcf78564736f6c63430008170033","sourceMap":"129:700:171:-:0;;;;;;;;;;;;;;;;;;;;;;;;338:132;;404:66;338:132;;;;;168:25:829;;;156:2;141:18;338:132:171;;;;;;","linkReferences":{}},"methodIdentifiers":{"DELAYED_REVEAL_STORAGE_POSITION()":"1c46bf9c"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"DELAYED_REVEAL_STORAGE_POSITION\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"stateVariables\":{\"DELAYED_REVEAL_STORAGE_POSITION\":{\"custom:storage-location\":\"erc7201:delayed.reveal.storage\",\"details\":\"keccak256(abi.encode(uint256(keccak256(\\\"delayed.reveal.storage\\\")) - 1)) & ~bytes32(uint256(0xff))\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/extension/upgradeable/DelayedReveal.sol\":\"DelayedRevealStorage\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@ds-test/=lib/ds-test/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@std/=lib/forge-std/src/\",\":@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/\",\":ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/\",\":ERC721A/=lib/ERC721A/contracts/\",\":chainlink/=lib/chainlink/contracts/\",\":contracts/=contracts/\",\":ds-test/=lib/ds-test/src/\",\":dynamic-contracts/=lib/dynamic-contracts/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":erc721a-upgradeable/=lib/ERC721A-Upgradeable/\",\":erc721a/=lib/ERC721A/\",\":forge-std/=lib/forge-std/src/\",\":lib/sstore2/=lib/dynamic-contracts/lib/sstore2/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/\"]},\"sources\":{\"contracts/extension/interface/IDelayedReveal.sol\":{\"keccak256\":\"0xbbe98263ebce49f81cb42f8bf1e7e631afd81cda73be79b907e81a2f54fd2123\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://76913c2086e309c97ac0d5be72bbe23e66fe35e231c75318993c14e6aa4c0138\",\"dweb:/ipfs/QmXwr49U275Cam8x9mYcNdcCmZHUYuBge3CtFPkBkEMzL4\"]},\"contracts/extension/upgradeable/DelayedReveal.sol\":{\"keccak256\":\"0xfc58a7f52d1e7bd2f177d60eeba4db1bb8a6a6f216ac24d3ab27b3e02b776588\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://5db70d2a22b6d81e39ac48212fd362ccd319480a4bcf055f5efbae36f8844eea\",\"dweb:/ipfs/QmWwUuh6g9DDHLmVjywDGv4wHWJCyZuL23FfRCrwXmnLwT\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"DELAYED_REVEAL_STORAGE_POSITION","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@ds-test/=lib/ds-test/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@std/=lib/forge-std/src/","@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/","ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/","ERC721A/=lib/ERC721A/contracts/","chainlink/=lib/chainlink/contracts/","contracts/=contracts/","ds-test/=lib/ds-test/src/","dynamic-contracts/=lib/dynamic-contracts/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","erc721a-upgradeable/=lib/ERC721A-Upgradeable/","erc721a/=lib/ERC721A/","forge-std/=lib/forge-std/src/","lib/sstore2/=lib/dynamic-contracts/lib/sstore2/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/","sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/"],"optimizer":{"enabled":true,"runs":20},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/extension/upgradeable/DelayedReveal.sol":"DelayedRevealStorage"},"evmVersion":"london","libraries":{}},"sources":{"contracts/extension/interface/IDelayedReveal.sol":{"keccak256":"0xbbe98263ebce49f81cb42f8bf1e7e631afd81cda73be79b907e81a2f54fd2123","urls":["bzz-raw://76913c2086e309c97ac0d5be72bbe23e66fe35e231c75318993c14e6aa4c0138","dweb:/ipfs/QmXwr49U275Cam8x9mYcNdcCmZHUYuBge3CtFPkBkEMzL4"],"license":"Apache-2.0"},"contracts/extension/upgradeable/DelayedReveal.sol":{"keccak256":"0xfc58a7f52d1e7bd2f177d60eeba4db1bb8a6a6f216ac24d3ab27b3e02b776588","urls":["bzz-raw://5db70d2a22b6d81e39ac48212fd362ccd319480a4bcf055f5efbae36f8844eea","dweb:/ipfs/QmWwUuh6g9DDHLmVjywDGv4wHWJCyZuL23FfRCrwXmnLwT"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"contracts/extension/upgradeable/DelayedReveal.sol","id":39978,"exportedSymbols":{"DelayedReveal":[39977],"DelayedRevealStorage":[39791],"IDelayedReveal":[33434]},"nodeType":"SourceUnit","src":"39:5130:171","nodes":[{"id":39767,"nodeType":"PragmaDirective","src":"39:23:171","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":39768,"nodeType":"ImportDirective","src":"86:41:171","nodes":[],"absolutePath":"contracts/extension/interface/IDelayedReveal.sol","file":"../interface/IDelayedReveal.sol","nameLocation":"-1:-1:-1","scope":39978,"sourceUnit":33435,"symbolAliases":[],"unitAlias":""},{"id":39791,"nodeType":"ContractDefinition","src":"129:700:171","nodes":[{"id":39772,"nodeType":"VariableDeclaration","src":"338:132:171","nodes":[],"constant":true,"documentation":{"id":39769,"nodeType":"StructuredDocumentation","src":"164:169:171","text":"@custom:storage-location erc7201:delayed.reveal.storage\n@dev keccak256(abi.encode(uint256(keccak256(\"delayed.reveal.storage\")) - 1)) & ~bytes32(uint256(0xff))"},"functionSelector":"1c46bf9c","mutability":"constant","name":"DELAYED_REVEAL_STORAGE_POSITION","nameLocation":"362:31:171","scope":39791,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39770,"name":"bytes32","nodeType":"ElementaryTypeName","src":"338:7:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307832396362623661333736386234326634303762303139343539393461333738363162663561323137396335646561356265376533373834313565373535313030","id":39771,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"404:66:171","typeDescriptions":{"typeIdentifier":"t_rational_18904757270854495860344210491622110297948610068193532125557750223403734094080_by_1","typeString":"int_const 1890...(69 digits omitted)...4080"},"value":"0x29cbb6a3768b42f407b01945994a37861bf5a2179c5dea5be7e378415e755100"},"visibility":"public"},{"id":39778,"nodeType":"StructDefinition","src":"477:154:171","nodes":[],"canonicalName":"DelayedRevealStorage.Data","members":[{"constant":false,"id":39777,"mutability":"mutable","name":"encryptedData","nameLocation":"611:13:171","nodeType":"VariableDeclaration","scope":39778,"src":"585:39:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes)"},"typeName":{"id":39776,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":39774,"name":"uint256","nodeType":"ElementaryTypeName","src":"593:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"585:25:171","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":39775,"name":"bytes","nodeType":"ElementaryTypeName","src":"604:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"visibility":"internal"}],"name":"Data","nameLocation":"484:4:171","scope":39791,"visibility":"public"},{"id":39790,"nodeType":"FunctionDefinition","src":"637:190:171","nodes":[],"body":{"id":39789,"nodeType":"Block","src":"696:131:171","nodes":[],"statements":[{"assignments":[39785],"declarations":[{"constant":false,"id":39785,"mutability":"mutable","name":"position","nameLocation":"714:8:171","nodeType":"VariableDeclaration","scope":39789,"src":"706:16:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39784,"name":"bytes32","nodeType":"ElementaryTypeName","src":"706:7:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":39787,"initialValue":{"id":39786,"name":"DELAYED_REVEAL_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39772,"src":"725:31:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"706:50:171"},{"AST":{"nativeSrc":"775:46:171","nodeType":"YulBlock","src":"775:46:171","statements":[{"nativeSrc":"789:22:171","nodeType":"YulAssignment","src":"789:22:171","value":{"name":"position","nativeSrc":"803:8:171","nodeType":"YulIdentifier","src":"803:8:171"},"variableNames":[{"name":"data_.slot","nativeSrc":"789:10:171","nodeType":"YulIdentifier","src":"789:10:171"}]}]},"evmVersion":"london","externalReferences":[{"declaration":39782,"isOffset":false,"isSlot":true,"src":"789:10:171","suffix":"slot","valueSize":1},{"declaration":39785,"isOffset":false,"isSlot":false,"src":"803:8:171","valueSize":1}],"id":39788,"nodeType":"InlineAssembly","src":"766:55:171"}]},"implemented":true,"kind":"function","modifiers":[],"name":"data","nameLocation":"646:4:171","parameters":{"id":39779,"nodeType":"ParameterList","parameters":[],"src":"650:2:171"},"returnParameters":{"id":39783,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39782,"mutability":"mutable","name":"data_","nameLocation":"689:5:171","nodeType":"VariableDeclaration","scope":39790,"src":"676:18:171","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data"},"typeName":{"id":39781,"nodeType":"UserDefinedTypeName","pathNode":{"id":39780,"name":"Data","nameLocations":["676:4:171"],"nodeType":"IdentifierPath","referencedDeclaration":39778,"src":"676:4:171"},"referencedDeclaration":39778,"src":"676:4:171","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data"}},"visibility":"internal"}],"src":"675:20:171"},"scope":39791,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"DelayedRevealStorage","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[39791],"name":"DelayedRevealStorage","nameLocation":"137:20:171","scope":39978,"usedErrors":[],"usedEvents":[]},{"id":39977,"nodeType":"ContractDefinition","src":"1133:4035:171","nodes":[{"id":39809,"nodeType":"FunctionDefinition","src":"1271:147:171","nodes":[],"body":{"id":39808,"nodeType":"Block","src":"1347:71:171","nodes":[],"statements":[{"expression":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39802,"name":"_delayedRevealStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39976,"src":"1364:21:171","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$39778_storage_ptr_$","typeString":"function () pure returns (struct DelayedRevealStorage.Data storage pointer)"}},"id":39803,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1364:23:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"id":39804,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1388:13:171","memberName":"encryptedData","nodeType":"MemberAccess","referencedDeclaration":39777,"src":"1364:37:171","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":39806,"indexExpression":{"id":39805,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39797,"src":"1402:8:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1364:47:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"functionReturnParameters":39801,"id":39807,"nodeType":"Return","src":"1357:54:171"}]},"documentation":{"id":39795,"nodeType":"StructuredDocumentation","src":"1189:77:171","text":"@dev Mapping from tokenId of a batch of tokens => to delayed reveal data."},"functionSelector":"a05112fc","implemented":true,"kind":"function","modifiers":[],"name":"encryptedData","nameLocation":"1280:13:171","parameters":{"id":39798,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39797,"mutability":"mutable","name":"_tokenId","nameLocation":"1302:8:171","nodeType":"VariableDeclaration","scope":39809,"src":"1294:16:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39796,"name":"uint256","nodeType":"ElementaryTypeName","src":"1294:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1293:18:171"},"returnParameters":{"id":39801,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39800,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":39809,"src":"1333:12:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39799,"name":"bytes","nodeType":"ElementaryTypeName","src":"1333:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1332:14:171"},"scope":39977,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":39826,"nodeType":"FunctionDefinition","src":"1481:164:171","nodes":[],"body":{"id":39825,"nodeType":"Block","src":"1564:81:171","nodes":[],"statements":[{"expression":{"id":39823,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39817,"name":"_delayedRevealStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39976,"src":"1574:21:171","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$39778_storage_ptr_$","typeString":"function () pure returns (struct DelayedRevealStorage.Data storage pointer)"}},"id":39818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1574:23:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"id":39819,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1598:13:171","memberName":"encryptedData","nodeType":"MemberAccess","referencedDeclaration":39777,"src":"1574:37:171","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":39821,"indexExpression":{"id":39820,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39812,"src":"1612:8:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1574:47:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":39822,"name":"_encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39814,"src":"1624:14:171","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"src":"1574:64:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":39824,"nodeType":"ExpressionStatement","src":"1574:64:171"}]},"documentation":{"id":39810,"nodeType":"StructuredDocumentation","src":"1424:52:171","text":"@dev Sets the delayed reveal data for a batchId."},"implemented":true,"kind":"function","modifiers":[],"name":"_setEncryptedData","nameLocation":"1490:17:171","parameters":{"id":39815,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39812,"mutability":"mutable","name":"_batchId","nameLocation":"1516:8:171","nodeType":"VariableDeclaration","scope":39826,"src":"1508:16:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39811,"name":"uint256","nodeType":"ElementaryTypeName","src":"1508:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":39814,"mutability":"mutable","name":"_encryptedData","nameLocation":"1539:14:171","nodeType":"VariableDeclaration","scope":39826,"src":"1526:27:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39813,"name":"bytes","nodeType":"ElementaryTypeName","src":"1526:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1507:47:171"},"returnParameters":{"id":39816,"nodeType":"ParameterList","parameters":[],"src":"1564:0:171"},"scope":39977,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":39894,"nodeType":"FunctionDefinition","src":"2210:582:171","nodes":[],"body":{"id":39893,"nodeType":"Block","src":"2319:473:171","nodes":[],"statements":[{"assignments":[39837],"declarations":[{"constant":false,"id":39837,"mutability":"mutable","name":"dataForBatch","nameLocation":"2342:12:171","nodeType":"VariableDeclaration","scope":39893,"src":"2329:25:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39836,"name":"bytes","nodeType":"ElementaryTypeName","src":"2329:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":39843,"initialValue":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39838,"name":"_delayedRevealStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39976,"src":"2357:21:171","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$39778_storage_ptr_$","typeString":"function () pure returns (struct DelayedRevealStorage.Data storage pointer)"}},"id":39839,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2357:23:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"id":39840,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2381:13:171","memberName":"encryptedData","nodeType":"MemberAccess","referencedDeclaration":39777,"src":"2357:37:171","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":39842,"indexExpression":{"id":39841,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39829,"src":"2395:8:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2357:47:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2329:75:171"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":39844,"name":"dataForBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39837,"src":"2418:12:171","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":39845,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2431:6:171","memberName":"length","nodeType":"MemberAccess","src":"2418:19:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":39846,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2441:1:171","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2418:24:171","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39853,"nodeType":"IfStatement","src":"2414:82:171","trueBody":{"id":39852,"nodeType":"Block","src":"2444:52:171","statements":[{"expression":{"arguments":[{"hexValue":"4e6f7468696e6720746f2072657665616c","id":39849,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2465:19:171","typeDescriptions":{"typeIdentifier":"t_stringliteral_bb67ecc122c4da1ed986aaa7b8014a3167ed82c3b6322841c18f50e188681cef","typeString":"literal_string \"Nothing to reveal\""},"value":"Nothing to reveal"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_bb67ecc122c4da1ed986aaa7b8014a3167ed82c3b6322841c18f50e188681cef","typeString":"literal_string \"Nothing to reveal\""}],"id":39848,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"2458:6:171","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":39850,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2458:27:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39851,"nodeType":"ExpressionStatement","src":"2458:27:171"}]}},{"assignments":[39855,39857],"declarations":[{"constant":false,"id":39855,"mutability":"mutable","name":"encryptedURI","nameLocation":"2520:12:171","nodeType":"VariableDeclaration","scope":39893,"src":"2507:25:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39854,"name":"bytes","nodeType":"ElementaryTypeName","src":"2507:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":39857,"mutability":"mutable","name":"provenanceHash","nameLocation":"2542:14:171","nodeType":"VariableDeclaration","scope":39893,"src":"2534:22:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39856,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2534:7:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":39867,"initialValue":{"arguments":[{"id":39860,"name":"dataForBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39837,"src":"2571:12:171","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":39862,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2586:5:171","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":39861,"name":"bytes","nodeType":"ElementaryTypeName","src":"2586:5:171","typeDescriptions":{}}},{"id":39864,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2593:7:171","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":39863,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2593:7:171","typeDescriptions":{}}}],"id":39865,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2585:16:171","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes32_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes32))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes32_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes32))"}],"expression":{"id":39858,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2560:3:171","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":39859,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2564:6:171","memberName":"decode","nodeType":"MemberAccess","src":"2560:10:171","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":39866,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2560:42:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes_memory_ptr_$_t_bytes32_$","typeString":"tuple(bytes memory,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"2506:96:171"},{"expression":{"id":39876,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39868,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39834,"src":"2613:11:171","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":39872,"name":"encryptedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39855,"src":"2649:12:171","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":39873,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39831,"src":"2663:4:171","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":39871,"name":"encryptDecrypt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39944,"src":"2634:14:171","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_bytes_calldata_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,bytes calldata) pure returns (bytes memory)"}},"id":39874,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2634:34:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":39870,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2627:6:171","typeDescriptions":{"typeIdentifier":"t_type$_t_string_storage_ptr_$","typeString":"type(string storage pointer)"},"typeName":{"id":39869,"name":"string","nodeType":"ElementaryTypeName","src":"2627:6:171","typeDescriptions":{}}},"id":39875,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2627:42:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"2613:56:171","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"id":39877,"nodeType":"ExpressionStatement","src":"2613:56:171"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":39889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":39882,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39834,"src":"2715:11:171","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"id":39883,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39831,"src":"2728:4:171","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"expression":{"id":39884,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2734:5:171","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":39885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2740:7:171","memberName":"chainid","nodeType":"MemberAccess","src":"2734:13:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":39880,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2698:3:171","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":39881,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2702:12:171","memberName":"encodePacked","nodeType":"MemberAccess","src":"2698:16:171","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":39886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2698:50:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":39879,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2688:9:171","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":39887,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2688:61:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":39888,"name":"provenanceHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39857,"src":"2753:14:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2688:79:171","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e636f7272656374206b6579","id":39890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2769:15:171","typeDescriptions":{"typeIdentifier":"t_stringliteral_e110431088d02c013accfadfbafa36f4bc0286b4ffb9e1df12de6773059a4412","typeString":"literal_string \"Incorrect key\""},"value":"Incorrect key"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e110431088d02c013accfadfbafa36f4bc0286b4ffb9e1df12de6773059a4412","typeString":"literal_string \"Incorrect key\""}],"id":39878,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2680:7:171","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":39891,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2680:105:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39892,"nodeType":"ExpressionStatement","src":"2680:105:171"}]},"documentation":{"id":39827,"nodeType":"StructuredDocumentation","src":"1651:554:171","text":"  @notice             Returns revealed URI for a batch of NFTs.\n  @dev                Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.\n                      Reverts if there's no encrypted URI for `_batchId`.\n                      See {encryptDecrypt}.\n  @param _batchId     ID of the batch for which URI is being revealed.\n  @param _key         Secure key used by caller/admin for encryption of baseURI.\n  @return revealedURI Decrypted base URI."},"functionSelector":"9fc4d68f","implemented":true,"kind":"function","modifiers":[],"name":"getRevealURI","nameLocation":"2219:12:171","parameters":{"id":39832,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39829,"mutability":"mutable","name":"_batchId","nameLocation":"2240:8:171","nodeType":"VariableDeclaration","scope":39894,"src":"2232:16:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39828,"name":"uint256","nodeType":"ElementaryTypeName","src":"2232:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":39831,"mutability":"mutable","name":"_key","nameLocation":"2265:4:171","nodeType":"VariableDeclaration","scope":39894,"src":"2250:19:171","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":39830,"name":"bytes","nodeType":"ElementaryTypeName","src":"2250:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2231:39:171"},"returnParameters":{"id":39835,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39834,"mutability":"mutable","name":"revealedURI","nameLocation":"2306:11:171","nodeType":"VariableDeclaration","scope":39894,"src":"2292:25:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":39833,"name":"string","nodeType":"ElementaryTypeName","src":"2292:6:171","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2291:27:171"},"scope":39977,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":39944,"nodeType":"FunctionDefinition","src":"3284:1283:171","nodes":[],"body":{"id":39943,"nodeType":"Block","src":"3398:1169:171","nodes":[],"statements":[{"assignments":[39906],"declarations":[{"constant":false,"id":39906,"mutability":"mutable","name":"length","nameLocation":"3468:6:171","nodeType":"VariableDeclaration","scope":39943,"src":"3460:14:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39905,"name":"uint256","nodeType":"ElementaryTypeName","src":"3460:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39909,"initialValue":{"expression":{"id":39907,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39897,"src":"3477:4:171","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":39908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3482:6:171","memberName":"length","nodeType":"MemberAccess","src":"3477:11:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3460:28:171"},{"AST":{"nativeSrc":"3564:276:171","nodeType":"YulBlock","src":"3564:276:171","statements":[{"nativeSrc":"3627:21:171","nodeType":"YulAssignment","src":"3627:21:171","value":{"arguments":[{"kind":"number","nativeSrc":"3643:4:171","nodeType":"YulLiteral","src":"3643:4:171","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"3637:5:171","nodeType":"YulIdentifier","src":"3637:5:171"},"nativeSrc":"3637:11:171","nodeType":"YulFunctionCall","src":"3637:11:171"},"variableNames":[{"name":"result","nativeSrc":"3627:6:171","nodeType":"YulIdentifier","src":"3627:6:171"}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"3727:4:171","nodeType":"YulLiteral","src":"3727:4:171","type":"","value":"0x40"},{"arguments":[{"arguments":[{"name":"result","nativeSrc":"3741:6:171","nodeType":"YulIdentifier","src":"3741:6:171"},{"name":"length","nativeSrc":"3749:6:171","nodeType":"YulIdentifier","src":"3749:6:171"}],"functionName":{"name":"add","nativeSrc":"3737:3:171","nodeType":"YulIdentifier","src":"3737:3:171"},"nativeSrc":"3737:19:171","nodeType":"YulFunctionCall","src":"3737:19:171"},{"kind":"number","nativeSrc":"3758:2:171","nodeType":"YulLiteral","src":"3758:2:171","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"3733:3:171","nodeType":"YulIdentifier","src":"3733:3:171"},"nativeSrc":"3733:28:171","nodeType":"YulFunctionCall","src":"3733:28:171"}],"functionName":{"name":"mstore","nativeSrc":"3720:6:171","nodeType":"YulIdentifier","src":"3720:6:171"},"nativeSrc":"3720:42:171","nodeType":"YulFunctionCall","src":"3720:42:171"},"nativeSrc":"3720:42:171","nodeType":"YulExpressionStatement","src":"3720:42:171"},{"expression":{"arguments":[{"name":"result","nativeSrc":"3815:6:171","nodeType":"YulIdentifier","src":"3815:6:171"},{"name":"length","nativeSrc":"3823:6:171","nodeType":"YulIdentifier","src":"3823:6:171"}],"functionName":{"name":"mstore","nativeSrc":"3808:6:171","nodeType":"YulIdentifier","src":"3808:6:171"},"nativeSrc":"3808:22:171","nodeType":"YulFunctionCall","src":"3808:22:171"},"nativeSrc":"3808:22:171","nodeType":"YulExpressionStatement","src":"3808:22:171"}]},"evmVersion":"london","externalReferences":[{"declaration":39906,"isOffset":false,"isSlot":false,"src":"3749:6:171","valueSize":1},{"declaration":39906,"isOffset":false,"isSlot":false,"src":"3823:6:171","valueSize":1},{"declaration":39903,"isOffset":false,"isSlot":false,"src":"3627:6:171","valueSize":1},{"declaration":39903,"isOffset":false,"isSlot":false,"src":"3741:6:171","valueSize":1},{"declaration":39903,"isOffset":false,"isSlot":false,"src":"3815:6:171","valueSize":1}],"id":39910,"nodeType":"InlineAssembly","src":"3555:285:171"},{"body":{"id":39941,"nodeType":"Block","src":"3945:616:171","statements":[{"assignments":[39923],"declarations":[{"constant":false,"id":39923,"mutability":"mutable","name":"hash","nameLocation":"4018:4:171","nodeType":"VariableDeclaration","scope":39941,"src":"4010:12:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39922,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4010:7:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":39931,"initialValue":{"arguments":[{"arguments":[{"id":39927,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39899,"src":"4052:3:171","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"id":39928,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39912,"src":"4057:1:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":39925,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"4035:3:171","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":39926,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4039:12:171","memberName":"encodePacked","nodeType":"MemberAccess","src":"4035:16:171","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":39929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4035:24:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":39924,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"4025:9:171","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":39930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4025:35:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"4010:50:171"},{"assignments":[39933],"declarations":[{"constant":false,"id":39933,"mutability":"mutable","name":"chunk","nameLocation":"4083:5:171","nodeType":"VariableDeclaration","scope":39941,"src":"4075:13:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39932,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4075:7:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":39934,"nodeType":"VariableDeclarationStatement","src":"4075:13:171"},{"AST":{"nativeSrc":"4171:113:171","nodeType":"YulBlock","src":"4171:113:171","statements":[{"nativeSrc":"4233:37:171","nodeType":"YulAssignment","src":"4233:37:171","value":{"arguments":[{"arguments":[{"name":"data","nativeSrc":"4252:4:171","nodeType":"YulIdentifier","src":"4252:4:171"},{"arguments":[{"name":"i","nativeSrc":"4262:1:171","nodeType":"YulIdentifier","src":"4262:1:171"},{"kind":"number","nativeSrc":"4265:2:171","nodeType":"YulLiteral","src":"4265:2:171","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"4258:3:171","nodeType":"YulIdentifier","src":"4258:3:171"},"nativeSrc":"4258:10:171","nodeType":"YulFunctionCall","src":"4258:10:171"}],"functionName":{"name":"add","nativeSrc":"4248:3:171","nodeType":"YulIdentifier","src":"4248:3:171"},"nativeSrc":"4248:21:171","nodeType":"YulFunctionCall","src":"4248:21:171"}],"functionName":{"name":"mload","nativeSrc":"4242:5:171","nodeType":"YulIdentifier","src":"4242:5:171"},"nativeSrc":"4242:28:171","nodeType":"YulFunctionCall","src":"4242:28:171"},"variableNames":[{"name":"chunk","nativeSrc":"4233:5:171","nodeType":"YulIdentifier","src":"4233:5:171"}]}]},"evmVersion":"london","externalReferences":[{"declaration":39933,"isOffset":false,"isSlot":false,"src":"4233:5:171","valueSize":1},{"declaration":39897,"isOffset":false,"isSlot":false,"src":"4252:4:171","valueSize":1},{"declaration":39912,"isOffset":false,"isSlot":false,"src":"4262:1:171","valueSize":1}],"id":39935,"nodeType":"InlineAssembly","src":"4162:122:171"},{"expression":{"id":39938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39936,"name":"chunk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39933,"src":"4336:5:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"^=","rightHandSide":{"id":39937,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39923,"src":"4345:4:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4336:13:171","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":39939,"nodeType":"ExpressionStatement","src":"4336:13:171"},{"AST":{"nativeSrc":"4432:119:171","nodeType":"YulBlock","src":"4432:119:171","statements":[{"expression":{"arguments":[{"arguments":[{"name":"result","nativeSrc":"4510:6:171","nodeType":"YulIdentifier","src":"4510:6:171"},{"arguments":[{"name":"i","nativeSrc":"4522:1:171","nodeType":"YulIdentifier","src":"4522:1:171"},{"kind":"number","nativeSrc":"4525:2:171","nodeType":"YulLiteral","src":"4525:2:171","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"4518:3:171","nodeType":"YulIdentifier","src":"4518:3:171"},"nativeSrc":"4518:10:171","nodeType":"YulFunctionCall","src":"4518:10:171"}],"functionName":{"name":"add","nativeSrc":"4506:3:171","nodeType":"YulIdentifier","src":"4506:3:171"},"nativeSrc":"4506:23:171","nodeType":"YulFunctionCall","src":"4506:23:171"},{"name":"chunk","nativeSrc":"4531:5:171","nodeType":"YulIdentifier","src":"4531:5:171"}],"functionName":{"name":"mstore","nativeSrc":"4499:6:171","nodeType":"YulIdentifier","src":"4499:6:171"},"nativeSrc":"4499:38:171","nodeType":"YulFunctionCall","src":"4499:38:171"},"nativeSrc":"4499:38:171","nodeType":"YulExpressionStatement","src":"4499:38:171"}]},"evmVersion":"london","externalReferences":[{"declaration":39933,"isOffset":false,"isSlot":false,"src":"4531:5:171","valueSize":1},{"declaration":39912,"isOffset":false,"isSlot":false,"src":"4522:1:171","valueSize":1},{"declaration":39903,"isOffset":false,"isSlot":false,"src":"4510:6:171","valueSize":1}],"id":39940,"nodeType":"InlineAssembly","src":"4423:128:171"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":39915,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39912,"src":"3924:1:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":39916,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39906,"src":"3928:6:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3924:10:171","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":39942,"initializationExpression":{"assignments":[39912],"declarations":[{"constant":false,"id":39912,"mutability":"mutable","name":"i","nameLocation":"3917:1:171","nodeType":"VariableDeclaration","scope":39942,"src":"3909:9:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39911,"name":"uint256","nodeType":"ElementaryTypeName","src":"3909:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":39914,"initialValue":{"hexValue":"30","id":39913,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3921:1:171","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3909:13:171"},"isSimpleCounterLoop":false,"loopExpression":{"expression":{"id":39920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39918,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39912,"src":"3936:1:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"hexValue":"3332","id":39919,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3941:2:171","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3936:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":39921,"nodeType":"ExpressionStatement","src":"3936:7:171"},"nodeType":"ForStatement","src":"3904:657:171"}]},"baseFunctions":[33433],"documentation":{"id":39895,"nodeType":"StructuredDocumentation","src":"2798:481:171","text":"  @notice         Encrypt/decrypt data on chain.\n  @dev            Encrypt/decrypt given `data` with `key`. Uses inline assembly.\n                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain\n  @param data     Bytes of data to encrypt/decrypt.\n  @param key      Secure key used by caller for encryption/decryption.\n  @return result  Output after encryption/decryption of given data."},"functionSelector":"e7150322","implemented":true,"kind":"function","modifiers":[],"name":"encryptDecrypt","nameLocation":"3293:14:171","overrides":{"id":39901,"nodeType":"OverrideSpecifier","overrides":[],"src":"3359:8:171"},"parameters":{"id":39900,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39897,"mutability":"mutable","name":"data","nameLocation":"3321:4:171","nodeType":"VariableDeclaration","scope":39944,"src":"3308:17:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39896,"name":"bytes","nodeType":"ElementaryTypeName","src":"3308:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":39899,"mutability":"mutable","name":"key","nameLocation":"3342:3:171","nodeType":"VariableDeclaration","scope":39944,"src":"3327:18:171","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":39898,"name":"bytes","nodeType":"ElementaryTypeName","src":"3327:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3307:39:171"},"returnParameters":{"id":39904,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39903,"mutability":"mutable","name":"result","nameLocation":"3390:6:171","nodeType":"VariableDeclaration","scope":39944,"src":"3377:19:171","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":39902,"name":"bytes","nodeType":"ElementaryTypeName","src":"3377:5:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3376:21:171"},"scope":39977,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":39962,"nodeType":"FunctionDefinition","src":"4812:153:171","nodes":[],"body":{"id":39961,"nodeType":"Block","src":"4883:82:171","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":39959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":39952,"name":"_delayedRevealStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39976,"src":"4900:21:171","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$39778_storage_ptr_$","typeString":"function () pure returns (struct DelayedRevealStorage.Data storage pointer)"}},"id":39953,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4900:23:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"id":39954,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4924:13:171","memberName":"encryptedData","nodeType":"MemberAccess","referencedDeclaration":39777,"src":"4900:37:171","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":39956,"indexExpression":{"id":39955,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39947,"src":"4938:8:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4900:47:171","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":39957,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4948:6:171","memberName":"length","nodeType":"MemberAccess","src":"4900:54:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":39958,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4957:1:171","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4900:58:171","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":39951,"id":39960,"nodeType":"Return","src":"4893:65:171"}]},"documentation":{"id":39945,"nodeType":"StructuredDocumentation","src":"4573:234:171","text":"  @notice         Returns whether the relvant batch of NFTs is subject to a delayed reveal.\n  @dev            Returns `true` if `_batchId`'s base URI is encrypted.\n  @param _batchId ID of a batch of NFTs."},"functionSelector":"492e224b","implemented":true,"kind":"function","modifiers":[],"name":"isEncryptedBatch","nameLocation":"4821:16:171","parameters":{"id":39948,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39947,"mutability":"mutable","name":"_batchId","nameLocation":"4846:8:171","nodeType":"VariableDeclaration","scope":39962,"src":"4838:16:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39946,"name":"uint256","nodeType":"ElementaryTypeName","src":"4838:7:171","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4837:18:171"},"returnParameters":{"id":39951,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39950,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":39962,"src":"4877:4:171","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":39949,"name":"bool","nodeType":"ElementaryTypeName","src":"4877:4:171","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4876:6:171"},"scope":39977,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":39976,"nodeType":"FunctionDefinition","src":"5019:147:171","nodes":[],"body":{"id":39975,"nodeType":"Block","src":"5115:51:171","nodes":[],"statements":[{"expression":{"id":39973,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39969,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39967,"src":"5125:4:171","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":39970,"name":"DelayedRevealStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39791,"src":"5132:20:171","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_DelayedRevealStorage_$39791_$","typeString":"type(library DelayedRevealStorage)"}},"id":39971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5153:4:171","memberName":"data","nodeType":"MemberAccess","referencedDeclaration":39790,"src":"5132:25:171","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$39778_storage_ptr_$","typeString":"function () pure returns (struct DelayedRevealStorage.Data storage pointer)"}},"id":39972,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5132:27:171","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"src":"5125:34:171","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data storage pointer"}},"id":39974,"nodeType":"ExpressionStatement","src":"5125:34:171"}]},"documentation":{"id":39963,"nodeType":"StructuredDocumentation","src":"4971:43:171","text":"@dev Returns the DelayedReveal storage."},"implemented":true,"kind":"function","modifiers":[],"name":"_delayedRevealStorage","nameLocation":"5028:21:171","parameters":{"id":39964,"nodeType":"ParameterList","parameters":[],"src":"5049:2:171"},"returnParameters":{"id":39968,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39967,"mutability":"mutable","name":"data","nameLocation":"5109:4:171","nodeType":"VariableDeclaration","scope":39976,"src":"5075:38:171","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data"},"typeName":{"id":39966,"nodeType":"UserDefinedTypeName","pathNode":{"id":39965,"name":"DelayedRevealStorage.Data","nameLocations":["5075:20:171","5096:4:171"],"nodeType":"IdentifierPath","referencedDeclaration":39778,"src":"5075:25:171"},"referencedDeclaration":39778,"src":"5075:25:171","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$39778_storage_ptr","typeString":"struct DelayedRevealStorage.Data"}},"visibility":"internal"}],"src":"5074:40:171"},"scope":39977,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":39793,"name":"IDelayedReveal","nameLocations":["1168:14:171"],"nodeType":"IdentifierPath","referencedDeclaration":33434,"src":"1168:14:171"},"id":39794,"nodeType":"InheritanceSpecifier","src":"1168:14:171"}],"canonicalName":"DelayedReveal","contractDependencies":[],"contractKind":"contract","documentation":{"id":39792,"nodeType":"StructuredDocumentation","src":"831:300:171","text":"  @title   Delayed Reveal\n  @notice  Thirdweb's `DelayedReveal` is a contract extension for base NFT contracts. It lets you create batches of\n           'delayed-reveal' NFTs. You can learn more about the usage of delayed reveal NFTs here - https://blog.thirdweb.com/delayed-reveal-nfts"},"fullyImplemented":false,"linearizedBaseContracts":[39977,33434],"name":"DelayedReveal","nameLocation":"1151:13:171","scope":39978,"usedErrors":[],"usedEvents":[33413]}],"license":"Apache-2.0"},"id":171}