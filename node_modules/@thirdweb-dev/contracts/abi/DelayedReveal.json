{"abi":[{"type":"function","name":"encryptDecrypt","inputs":[{"name":"data","type":"bytes","internalType":"bytes"},{"name":"key","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"result","type":"bytes","internalType":"bytes"}],"stateMutability":"pure"},{"type":"function","name":"encryptedData","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"getRevealURI","inputs":[{"name":"_batchId","type":"uint256","internalType":"uint256"},{"name":"_key","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"revealedURI","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"isEncryptedBatch","inputs":[{"name":"_batchId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"reveal","inputs":[{"name":"identifier","type":"uint256","internalType":"uint256"},{"name":"key","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"revealedURI","type":"string","internalType":"string"}],"stateMutability":"nonpayable"},{"type":"event","name":"TokenURIRevealed","inputs":[{"name":"index","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"revealedURI","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"error","name":"DelayedRevealIncorrectResultHash","inputs":[{"name":"expected","type":"bytes32","internalType":"bytes32"},{"name":"actual","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"DelayedRevealNothingToReveal","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"encryptDecrypt(bytes,bytes)":"e7150322","encryptedData(uint256)":"a05112fc","getRevealURI(uint256,bytes)":"9fc4d68f","isEncryptedBatch(uint256)":"492e224b","reveal(uint256,bytes)":"ce805642"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"expected\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"actual\",\"type\":\"bytes32\"}],\"name\":\"DelayedRevealIncorrectResultHash\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DelayedRevealNothingToReveal\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"revealedURI\",\"type\":\"string\"}],\"name\":\"TokenURIRevealed\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"key\",\"type\":\"bytes\"}],\"name\":\"encryptDecrypt\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"result\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"encryptedData\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_batchId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"_key\",\"type\":\"bytes\"}],\"name\":\"getRevealURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"revealedURI\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_batchId\",\"type\":\"uint256\"}],\"name\":\"isEncryptedBatch\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"identifier\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"key\",\"type\":\"bytes\"}],\"name\":\"reveal\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"revealedURI\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"DelayedRevealIncorrectResultHash(bytes32,bytes32)\":[{\"details\":\"The result of the returned an incorrect hash\"}],\"DelayedRevealNothingToReveal()\":[{\"details\":\"The contract doesn't have any url to be delayed revealed\"}]},\"events\":{\"TokenURIRevealed(uint256,string)\":{\"details\":\"Emitted when tokens are revealed.\"}},\"kind\":\"dev\",\"methods\":{\"encryptDecrypt(bytes,bytes)\":{\"details\":\"Encrypt/decrypt given `data` with `key`. Uses inline assembly.                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain\",\"params\":{\"data\":\"Bytes of data to encrypt/decrypt.\",\"key\":\"Secure key used by caller for encryption/decryption.\"},\"returns\":{\"result\":\" Output after encryption/decryption of given data.\"}},\"getRevealURI(uint256,bytes)\":{\"details\":\"Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.                      Reverts if there's no encrypted URI for `_batchId`.                      See {encryptDecrypt}.\",\"params\":{\"_batchId\":\"ID of the batch for which URI is being revealed.\",\"_key\":\"Secure key used by caller/admin for encryption of baseURI.\"},\"returns\":{\"revealedURI\":\"Decrypted base URI.\"}},\"isEncryptedBatch(uint256)\":{\"details\":\"Returns `true` if `_batchId`'s base URI is encrypted.\",\"params\":{\"_batchId\":\"ID of a batch of NFTs.\"}},\"reveal(uint256,bytes)\":{\"params\":{\"identifier\":\"The ID for the batch of delayed-reveal NFTs to reveal.\",\"key\":\"The key with which the base URI for the relevant batch of NFTs was encrypted.\"}}},\"stateVariables\":{\"encryptedData\":{\"details\":\"Mapping from tokenId of a batch of tokens => to delayed reveal data.\"}},\"title\":\"Delayed Reveal\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"encryptDecrypt(bytes,bytes)\":{\"notice\":\"Encrypt/decrypt data on chain.\"},\"getRevealURI(uint256,bytes)\":{\"notice\":\"Returns revealed URI for a batch of NFTs.\"},\"isEncryptedBatch(uint256)\":{\"notice\":\"Returns whether the relvant batch of NFTs is subject to a delayed reveal.\"},\"reveal(uint256,bytes)\":{\"notice\":\"Reveals a batch of delayed reveal NFTs.\"}},\"notice\":\"Thirdweb's `DelayedReveal` is a contract extension for base NFT contracts. It lets you create batches of           'delayed-reveal' NFTs. You can learn more about the usage of delayed reveal NFTs here - https://blog.thirdweb.com/delayed-reveal-nfts\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/extension/DelayedReveal.sol\":\"DelayedReveal\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@ds-test/=lib/ds-test/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@std/=lib/forge-std/src/\",\":@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/\",\":ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/\",\":ERC721A/=lib/ERC721A/contracts/\",\":chainlink/=lib/chainlink/contracts/\",\":contracts/=contracts/\",\":ds-test/=lib/ds-test/src/\",\":dynamic-contracts/=lib/dynamic-contracts/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":erc721a-upgradeable/=lib/ERC721A-Upgradeable/\",\":erc721a/=lib/ERC721A/\",\":forge-std/=lib/forge-std/src/\",\":lib/sstore2/=lib/dynamic-contracts/lib/sstore2/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/\"]},\"sources\":{\"contracts/extension/DelayedReveal.sol\":{\"keccak256\":\"0x88da8b7c6a511f811888a36148060c430d873f337f0b511892d5402733916065\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://229711e5eea3d6f5bb43520e1f79e1d5c342c056fd949f580d2bcb02895ae495\",\"dweb:/ipfs/Qme39HmWevQy1FuBMPHbFY981xx9nowwSaz9iE1tYDJQSj\"]},\"contracts/extension/interface/IDelayedReveal.sol\":{\"keccak256\":\"0xbbe98263ebce49f81cb42f8bf1e7e631afd81cda73be79b907e81a2f54fd2123\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://76913c2086e309c97ac0d5be72bbe23e66fe35e231c75318993c14e6aa4c0138\",\"dweb:/ipfs/QmXwr49U275Cam8x9mYcNdcCmZHUYuBge3CtFPkBkEMzL4\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32","name":"expected","type":"bytes32"},{"internalType":"bytes32","name":"actual","type":"bytes32"}],"type":"error","name":"DelayedRevealIncorrectResultHash"},{"inputs":[],"type":"error","name":"DelayedRevealNothingToReveal"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256","indexed":true},{"internalType":"string","name":"revealedURI","type":"string","indexed":false}],"type":"event","name":"TokenURIRevealed","anonymous":false},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"key","type":"bytes"}],"stateMutability":"pure","type":"function","name":"encryptDecrypt","outputs":[{"internalType":"bytes","name":"result","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"encryptedData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"},{"internalType":"bytes","name":"_key","type":"bytes"}],"stateMutability":"view","type":"function","name":"getRevealURI","outputs":[{"internalType":"string","name":"revealedURI","type":"string"}]},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isEncryptedBatch","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"identifier","type":"uint256"},{"internalType":"bytes","name":"key","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"reveal","outputs":[{"internalType":"string","name":"revealedURI","type":"string"}]}],"devdoc":{"kind":"dev","methods":{"encryptDecrypt(bytes,bytes)":{"details":"Encrypt/decrypt given `data` with `key`. Uses inline assembly.                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain","params":{"data":"Bytes of data to encrypt/decrypt.","key":"Secure key used by caller for encryption/decryption."},"returns":{"result":" Output after encryption/decryption of given data."}},"getRevealURI(uint256,bytes)":{"details":"Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.                      Reverts if there's no encrypted URI for `_batchId`.                      See {encryptDecrypt}.","params":{"_batchId":"ID of the batch for which URI is being revealed.","_key":"Secure key used by caller/admin for encryption of baseURI."},"returns":{"revealedURI":"Decrypted base URI."}},"isEncryptedBatch(uint256)":{"details":"Returns `true` if `_batchId`'s base URI is encrypted.","params":{"_batchId":"ID of a batch of NFTs."}},"reveal(uint256,bytes)":{"params":{"identifier":"The ID for the batch of delayed-reveal NFTs to reveal.","key":"The key with which the base URI for the relevant batch of NFTs was encrypted."}}},"version":1},"userdoc":{"kind":"user","methods":{"encryptDecrypt(bytes,bytes)":{"notice":"Encrypt/decrypt data on chain."},"getRevealURI(uint256,bytes)":{"notice":"Returns revealed URI for a batch of NFTs."},"isEncryptedBatch(uint256)":{"notice":"Returns whether the relvant batch of NFTs is subject to a delayed reveal."},"reveal(uint256,bytes)":{"notice":"Reveals a batch of delayed reveal NFTs."}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@ds-test/=lib/ds-test/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@std/=lib/forge-std/src/","@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/","ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/","ERC721A/=lib/ERC721A/contracts/","chainlink/=lib/chainlink/contracts/","contracts/=contracts/","ds-test/=lib/ds-test/src/","dynamic-contracts/=lib/dynamic-contracts/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","erc721a-upgradeable/=lib/ERC721A-Upgradeable/","erc721a/=lib/ERC721A/","forge-std/=lib/forge-std/src/","lib/sstore2/=lib/dynamic-contracts/lib/sstore2/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/","sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/"],"optimizer":{"enabled":true,"runs":20},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/extension/DelayedReveal.sol":"DelayedReveal"},"evmVersion":"london","libraries":{}},"sources":{"contracts/extension/DelayedReveal.sol":{"keccak256":"0x88da8b7c6a511f811888a36148060c430d873f337f0b511892d5402733916065","urls":["bzz-raw://229711e5eea3d6f5bb43520e1f79e1d5c342c056fd949f580d2bcb02895ae495","dweb:/ipfs/Qme39HmWevQy1FuBMPHbFY981xx9nowwSaz9iE1tYDJQSj"],"license":"Apache-2.0"},"contracts/extension/interface/IDelayedReveal.sol":{"keccak256":"0xbbe98263ebce49f81cb42f8bf1e7e631afd81cda73be79b907e81a2f54fd2123","urls":["bzz-raw://76913c2086e309c97ac0d5be72bbe23e66fe35e231c75318993c14e6aa4c0138","dweb:/ipfs/QmXwr49U275Cam8x9mYcNdcCmZHUYuBge3CtFPkBkEMzL4"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"contracts/extension/DelayedReveal.sol","id":18325,"exportedSymbols":{"DelayedReveal":[18324],"IDelayedReveal":[33434]},"nodeType":"SourceUnit","src":"39:4458:57","nodes":[{"id":18147,"nodeType":"PragmaDirective","src":"39:23:57","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":18148,"nodeType":"ImportDirective","src":"86:40:57","nodes":[],"absolutePath":"contracts/extension/interface/IDelayedReveal.sol","file":"./interface/IDelayedReveal.sol","nameLocation":"-1:-1:-1","scope":18325,"sourceUnit":33435,"symbolAliases":[],"unitAlias":""},{"id":18324,"nodeType":"ContractDefinition","src":"430:4066:57","nodes":[{"id":18154,"nodeType":"ErrorDefinition","src":"556:37:57","nodes":[],"documentation":{"id":18152,"nodeType":"StructuredDocumentation","src":"486:65:57","text":"@dev The contract doesn't have any url to be delayed revealed"},"errorSelector":"5d0580b3","name":"DelayedRevealNothingToReveal","nameLocation":"562:28:57","parameters":{"id":18153,"nodeType":"ParameterList","parameters":[],"src":"590:2:57"}},{"id":18161,"nodeType":"ErrorDefinition","src":"657:73:57","nodes":[],"documentation":{"id":18155,"nodeType":"StructuredDocumentation","src":"599:53:57","text":"@dev The result of the returned an incorrect hash"},"errorSelector":"cd915d3c","name":"DelayedRevealIncorrectResultHash","nameLocation":"663:32:57","parameters":{"id":18160,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18157,"mutability":"mutable","name":"expected","nameLocation":"704:8:57","nodeType":"VariableDeclaration","scope":18161,"src":"696:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18156,"name":"bytes32","nodeType":"ElementaryTypeName","src":"696:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":18159,"mutability":"mutable","name":"actual","nameLocation":"722:6:57","nodeType":"VariableDeclaration","scope":18161,"src":"714:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18158,"name":"bytes32","nodeType":"ElementaryTypeName","src":"714:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"695:34:57"}},{"id":18166,"nodeType":"VariableDeclaration","src":"818:46:57","nodes":[],"constant":false,"documentation":{"id":18162,"nodeType":"StructuredDocumentation","src":"736:77:57","text":"@dev Mapping from tokenId of a batch of tokens => to delayed reveal data."},"functionSelector":"a05112fc","mutability":"mutable","name":"encryptedData","nameLocation":"851:13:57","scope":18324,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes)"},"typeName":{"id":18165,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":18163,"name":"uint256","nodeType":"ElementaryTypeName","src":"826:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"818:25:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":18164,"name":"bytes","nodeType":"ElementaryTypeName","src":"837:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"visibility":"public"},{"id":18181,"nodeType":"FunctionDefinition","src":"928:140:57","nodes":[],"body":{"id":18180,"nodeType":"Block","src":"1011:57:57","nodes":[],"statements":[{"expression":{"id":18178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":18174,"name":"encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18166,"src":"1021:13:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":18176,"indexExpression":{"id":18175,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18169,"src":"1035:8:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1021:23:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":18177,"name":"_encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18171,"src":"1047:14:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"src":"1021:40:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":18179,"nodeType":"ExpressionStatement","src":"1021:40:57"}]},"documentation":{"id":18167,"nodeType":"StructuredDocumentation","src":"871:52:57","text":"@dev Sets the delayed reveal data for a batchId."},"implemented":true,"kind":"function","modifiers":[],"name":"_setEncryptedData","nameLocation":"937:17:57","parameters":{"id":18172,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18169,"mutability":"mutable","name":"_batchId","nameLocation":"963:8:57","nodeType":"VariableDeclaration","scope":18181,"src":"955:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18168,"name":"uint256","nodeType":"ElementaryTypeName","src":"955:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":18171,"mutability":"mutable","name":"_encryptedData","nameLocation":"986:14:57","nodeType":"VariableDeclaration","scope":18181,"src":"973:27:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18170,"name":"bytes","nodeType":"ElementaryTypeName","src":"973:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"954:47:57"},"returnParameters":{"id":18173,"nodeType":"ParameterList","parameters":[],"src":"1011:0:57"},"scope":18324,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":18257,"nodeType":"FunctionDefinition","src":"1633:712:57","nodes":[],"body":{"id":18256,"nodeType":"Block","src":"1742:603:57","nodes":[],"statements":[{"assignments":[18192],"declarations":[{"constant":false,"id":18192,"mutability":"mutable","name":"data","nameLocation":"1765:4:57","nodeType":"VariableDeclaration","scope":18256,"src":"1752:17:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18191,"name":"bytes","nodeType":"ElementaryTypeName","src":"1752:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":18196,"initialValue":{"baseExpression":{"id":18193,"name":"encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18166,"src":"1772:13:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":18195,"indexExpression":{"id":18194,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18184,"src":"1786:8:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1772:23:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1752:43:57"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":18200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":18197,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18192,"src":"1809:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":18198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1814:6:57","memberName":"length","nodeType":"MemberAccess","src":"1809:11:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":18199,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1824:1:57","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1809:16:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":18205,"nodeType":"IfStatement","src":"1805:84:57","trueBody":{"id":18204,"nodeType":"Block","src":"1827:62:57","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":18201,"name":"DelayedRevealNothingToReveal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18154,"src":"1848:28:57","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":18202,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1848:30:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":18203,"nodeType":"RevertStatement","src":"1841:37:57"}]}},{"assignments":[18207,18209],"declarations":[{"constant":false,"id":18207,"mutability":"mutable","name":"encryptedURI","nameLocation":"1913:12:57","nodeType":"VariableDeclaration","scope":18256,"src":"1900:25:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18206,"name":"bytes","nodeType":"ElementaryTypeName","src":"1900:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":18209,"mutability":"mutable","name":"provenanceHash","nameLocation":"1935:14:57","nodeType":"VariableDeclaration","scope":18256,"src":"1927:22:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18208,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1927:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":18219,"initialValue":{"arguments":[{"id":18212,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18192,"src":"1964:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":18214,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1971:5:57","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":18213,"name":"bytes","nodeType":"ElementaryTypeName","src":"1971:5:57","typeDescriptions":{}}},{"id":18216,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1978:7:57","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":18215,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1978:7:57","typeDescriptions":{}}}],"id":18217,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1970:16:57","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes32_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes32))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes32_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes32))"}],"expression":{"id":18210,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1953:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18211,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1957:6:57","memberName":"decode","nodeType":"MemberAccess","src":"1953:10:57","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":18218,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1953:34:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes_memory_ptr_$_t_bytes32_$","typeString":"tuple(bytes memory,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"1899:88:57"},{"expression":{"id":18228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":18220,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18189,"src":"1998:11:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":18224,"name":"encryptedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18207,"src":"2034:12:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":18225,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18186,"src":"2048:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":18223,"name":"encryptDecrypt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18307,"src":"2019:14:57","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_bytes_calldata_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,bytes calldata) pure returns (bytes memory)"}},"id":18226,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2019:34:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18222,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2012:6:57","typeDescriptions":{"typeIdentifier":"t_type$_t_string_storage_ptr_$","typeString":"type(string storage pointer)"},"typeName":{"id":18221,"name":"string","nodeType":"ElementaryTypeName","src":"2012:6:57","typeDescriptions":{}}},"id":18227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2012:42:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"1998:56:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"id":18229,"nodeType":"ExpressionStatement","src":"1998:56:57"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":18240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":18233,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18189,"src":"2096:11:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"id":18234,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18186,"src":"2109:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"expression":{"id":18235,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2115:5:57","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":18236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2121:7:57","memberName":"chainid","nodeType":"MemberAccess","src":"2115:13:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":18231,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2079:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18232,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2083:12:57","memberName":"encodePacked","nodeType":"MemberAccess","src":"2079:16:57","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":18237,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2079:50:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18230,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2069:9:57","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":18238,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2069:61:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":18239,"name":"provenanceHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18209,"src":"2134:14:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2069:79:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":18255,"nodeType":"IfStatement","src":"2065:274:57","trueBody":{"id":18254,"nodeType":"Block","src":"2150:189:57","statements":[{"errorCall":{"arguments":[{"id":18242,"name":"provenanceHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18209,"src":"2221:14:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"arguments":[{"arguments":[{"id":18246,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18189,"src":"2280:11:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"id":18247,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18186,"src":"2293:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"expression":{"id":18248,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2299:5:57","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":18249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2305:7:57","memberName":"chainid","nodeType":"MemberAccess","src":"2299:13:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":18244,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2263:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18245,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2267:12:57","memberName":"encodePacked","nodeType":"MemberAccess","src":"2263:16:57","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":18250,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2263:50:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18243,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2253:9:57","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":18251,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2253:61:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":18241,"name":"DelayedRevealIncorrectResultHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18161,"src":"2171:32:57","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (bytes32,bytes32) pure"}},"id":18252,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2171:157:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":18253,"nodeType":"RevertStatement","src":"2164:164:57"}]}}]},"documentation":{"id":18182,"nodeType":"StructuredDocumentation","src":"1074:554:57","text":"  @notice             Returns revealed URI for a batch of NFTs.\n  @dev                Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.\n                      Reverts if there's no encrypted URI for `_batchId`.\n                      See {encryptDecrypt}.\n  @param _batchId     ID of the batch for which URI is being revealed.\n  @param _key         Secure key used by caller/admin for encryption of baseURI.\n  @return revealedURI Decrypted base URI."},"functionSelector":"9fc4d68f","implemented":true,"kind":"function","modifiers":[],"name":"getRevealURI","nameLocation":"1642:12:57","parameters":{"id":18187,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18184,"mutability":"mutable","name":"_batchId","nameLocation":"1663:8:57","nodeType":"VariableDeclaration","scope":18257,"src":"1655:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18183,"name":"uint256","nodeType":"ElementaryTypeName","src":"1655:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":18186,"mutability":"mutable","name":"_key","nameLocation":"1688:4:57","nodeType":"VariableDeclaration","scope":18257,"src":"1673:19:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":18185,"name":"bytes","nodeType":"ElementaryTypeName","src":"1673:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1654:39:57"},"returnParameters":{"id":18190,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18189,"mutability":"mutable","name":"revealedURI","nameLocation":"1729:11:57","nodeType":"VariableDeclaration","scope":18257,"src":"1715:25:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":18188,"name":"string","nodeType":"ElementaryTypeName","src":"1715:6:57","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1714:27:57"},"scope":18324,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":18307,"nodeType":"FunctionDefinition","src":"2837:1283:57","nodes":[],"body":{"id":18306,"nodeType":"Block","src":"2951:1169:57","nodes":[],"statements":[{"assignments":[18269],"declarations":[{"constant":false,"id":18269,"mutability":"mutable","name":"length","nameLocation":"3021:6:57","nodeType":"VariableDeclaration","scope":18306,"src":"3013:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18268,"name":"uint256","nodeType":"ElementaryTypeName","src":"3013:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":18272,"initialValue":{"expression":{"id":18270,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18260,"src":"3030:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":18271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3035:6:57","memberName":"length","nodeType":"MemberAccess","src":"3030:11:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3013:28:57"},{"AST":{"nativeSrc":"3117:276:57","nodeType":"YulBlock","src":"3117:276:57","statements":[{"nativeSrc":"3180:21:57","nodeType":"YulAssignment","src":"3180:21:57","value":{"arguments":[{"kind":"number","nativeSrc":"3196:4:57","nodeType":"YulLiteral","src":"3196:4:57","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"3190:5:57","nodeType":"YulIdentifier","src":"3190:5:57"},"nativeSrc":"3190:11:57","nodeType":"YulFunctionCall","src":"3190:11:57"},"variableNames":[{"name":"result","nativeSrc":"3180:6:57","nodeType":"YulIdentifier","src":"3180:6:57"}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"3280:4:57","nodeType":"YulLiteral","src":"3280:4:57","type":"","value":"0x40"},{"arguments":[{"arguments":[{"name":"result","nativeSrc":"3294:6:57","nodeType":"YulIdentifier","src":"3294:6:57"},{"name":"length","nativeSrc":"3302:6:57","nodeType":"YulIdentifier","src":"3302:6:57"}],"functionName":{"name":"add","nativeSrc":"3290:3:57","nodeType":"YulIdentifier","src":"3290:3:57"},"nativeSrc":"3290:19:57","nodeType":"YulFunctionCall","src":"3290:19:57"},{"kind":"number","nativeSrc":"3311:2:57","nodeType":"YulLiteral","src":"3311:2:57","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"3286:3:57","nodeType":"YulIdentifier","src":"3286:3:57"},"nativeSrc":"3286:28:57","nodeType":"YulFunctionCall","src":"3286:28:57"}],"functionName":{"name":"mstore","nativeSrc":"3273:6:57","nodeType":"YulIdentifier","src":"3273:6:57"},"nativeSrc":"3273:42:57","nodeType":"YulFunctionCall","src":"3273:42:57"},"nativeSrc":"3273:42:57","nodeType":"YulExpressionStatement","src":"3273:42:57"},{"expression":{"arguments":[{"name":"result","nativeSrc":"3368:6:57","nodeType":"YulIdentifier","src":"3368:6:57"},{"name":"length","nativeSrc":"3376:6:57","nodeType":"YulIdentifier","src":"3376:6:57"}],"functionName":{"name":"mstore","nativeSrc":"3361:6:57","nodeType":"YulIdentifier","src":"3361:6:57"},"nativeSrc":"3361:22:57","nodeType":"YulFunctionCall","src":"3361:22:57"},"nativeSrc":"3361:22:57","nodeType":"YulExpressionStatement","src":"3361:22:57"}]},"evmVersion":"london","externalReferences":[{"declaration":18269,"isOffset":false,"isSlot":false,"src":"3302:6:57","valueSize":1},{"declaration":18269,"isOffset":false,"isSlot":false,"src":"3376:6:57","valueSize":1},{"declaration":18266,"isOffset":false,"isSlot":false,"src":"3180:6:57","valueSize":1},{"declaration":18266,"isOffset":false,"isSlot":false,"src":"3294:6:57","valueSize":1},{"declaration":18266,"isOffset":false,"isSlot":false,"src":"3368:6:57","valueSize":1}],"id":18273,"nodeType":"InlineAssembly","src":"3108:285:57"},{"body":{"id":18304,"nodeType":"Block","src":"3498:616:57","statements":[{"assignments":[18286],"declarations":[{"constant":false,"id":18286,"mutability":"mutable","name":"hash","nameLocation":"3571:4:57","nodeType":"VariableDeclaration","scope":18304,"src":"3563:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18285,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3563:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":18294,"initialValue":{"arguments":[{"arguments":[{"id":18290,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18262,"src":"3605:3:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"id":18291,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18275,"src":"3610:1:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":18288,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"3588:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18289,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3592:12:57","memberName":"encodePacked","nodeType":"MemberAccess","src":"3588:16:57","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":18292,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3588:24:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18287,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"3578:9:57","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":18293,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3578:35:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"3563:50:57"},{"assignments":[18296],"declarations":[{"constant":false,"id":18296,"mutability":"mutable","name":"chunk","nameLocation":"3636:5:57","nodeType":"VariableDeclaration","scope":18304,"src":"3628:13:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18295,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3628:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":18297,"nodeType":"VariableDeclarationStatement","src":"3628:13:57"},{"AST":{"nativeSrc":"3724:113:57","nodeType":"YulBlock","src":"3724:113:57","statements":[{"nativeSrc":"3786:37:57","nodeType":"YulAssignment","src":"3786:37:57","value":{"arguments":[{"arguments":[{"name":"data","nativeSrc":"3805:4:57","nodeType":"YulIdentifier","src":"3805:4:57"},{"arguments":[{"name":"i","nativeSrc":"3815:1:57","nodeType":"YulIdentifier","src":"3815:1:57"},{"kind":"number","nativeSrc":"3818:2:57","nodeType":"YulLiteral","src":"3818:2:57","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"3811:3:57","nodeType":"YulIdentifier","src":"3811:3:57"},"nativeSrc":"3811:10:57","nodeType":"YulFunctionCall","src":"3811:10:57"}],"functionName":{"name":"add","nativeSrc":"3801:3:57","nodeType":"YulIdentifier","src":"3801:3:57"},"nativeSrc":"3801:21:57","nodeType":"YulFunctionCall","src":"3801:21:57"}],"functionName":{"name":"mload","nativeSrc":"3795:5:57","nodeType":"YulIdentifier","src":"3795:5:57"},"nativeSrc":"3795:28:57","nodeType":"YulFunctionCall","src":"3795:28:57"},"variableNames":[{"name":"chunk","nativeSrc":"3786:5:57","nodeType":"YulIdentifier","src":"3786:5:57"}]}]},"evmVersion":"london","externalReferences":[{"declaration":18296,"isOffset":false,"isSlot":false,"src":"3786:5:57","valueSize":1},{"declaration":18260,"isOffset":false,"isSlot":false,"src":"3805:4:57","valueSize":1},{"declaration":18275,"isOffset":false,"isSlot":false,"src":"3815:1:57","valueSize":1}],"id":18298,"nodeType":"InlineAssembly","src":"3715:122:57"},{"expression":{"id":18301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":18299,"name":"chunk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18296,"src":"3889:5:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"^=","rightHandSide":{"id":18300,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18286,"src":"3898:4:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3889:13:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":18302,"nodeType":"ExpressionStatement","src":"3889:13:57"},{"AST":{"nativeSrc":"3985:119:57","nodeType":"YulBlock","src":"3985:119:57","statements":[{"expression":{"arguments":[{"arguments":[{"name":"result","nativeSrc":"4063:6:57","nodeType":"YulIdentifier","src":"4063:6:57"},{"arguments":[{"name":"i","nativeSrc":"4075:1:57","nodeType":"YulIdentifier","src":"4075:1:57"},{"kind":"number","nativeSrc":"4078:2:57","nodeType":"YulLiteral","src":"4078:2:57","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"4071:3:57","nodeType":"YulIdentifier","src":"4071:3:57"},"nativeSrc":"4071:10:57","nodeType":"YulFunctionCall","src":"4071:10:57"}],"functionName":{"name":"add","nativeSrc":"4059:3:57","nodeType":"YulIdentifier","src":"4059:3:57"},"nativeSrc":"4059:23:57","nodeType":"YulFunctionCall","src":"4059:23:57"},{"name":"chunk","nativeSrc":"4084:5:57","nodeType":"YulIdentifier","src":"4084:5:57"}],"functionName":{"name":"mstore","nativeSrc":"4052:6:57","nodeType":"YulIdentifier","src":"4052:6:57"},"nativeSrc":"4052:38:57","nodeType":"YulFunctionCall","src":"4052:38:57"},"nativeSrc":"4052:38:57","nodeType":"YulExpressionStatement","src":"4052:38:57"}]},"evmVersion":"london","externalReferences":[{"declaration":18296,"isOffset":false,"isSlot":false,"src":"4084:5:57","valueSize":1},{"declaration":18275,"isOffset":false,"isSlot":false,"src":"4075:1:57","valueSize":1},{"declaration":18266,"isOffset":false,"isSlot":false,"src":"4063:6:57","valueSize":1}],"id":18303,"nodeType":"InlineAssembly","src":"3976:128:57"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":18280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":18278,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18275,"src":"3477:1:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":18279,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18269,"src":"3481:6:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3477:10:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":18305,"initializationExpression":{"assignments":[18275],"declarations":[{"constant":false,"id":18275,"mutability":"mutable","name":"i","nameLocation":"3470:1:57","nodeType":"VariableDeclaration","scope":18305,"src":"3462:9:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18274,"name":"uint256","nodeType":"ElementaryTypeName","src":"3462:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":18277,"initialValue":{"hexValue":"30","id":18276,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3474:1:57","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3462:13:57"},"isSimpleCounterLoop":false,"loopExpression":{"expression":{"id":18283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":18281,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18275,"src":"3489:1:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"hexValue":"3332","id":18282,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3494:2:57","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3489:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":18284,"nodeType":"ExpressionStatement","src":"3489:7:57"},"nodeType":"ForStatement","src":"3457:657:57"}]},"baseFunctions":[33433],"documentation":{"id":18258,"nodeType":"StructuredDocumentation","src":"2351:481:57","text":"  @notice         Encrypt/decrypt data on chain.\n  @dev            Encrypt/decrypt given `data` with `key`. Uses inline assembly.\n                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain\n  @param data     Bytes of data to encrypt/decrypt.\n  @param key      Secure key used by caller for encryption/decryption.\n  @return result  Output after encryption/decryption of given data."},"functionSelector":"e7150322","implemented":true,"kind":"function","modifiers":[],"name":"encryptDecrypt","nameLocation":"2846:14:57","overrides":{"id":18264,"nodeType":"OverrideSpecifier","overrides":[],"src":"2912:8:57"},"parameters":{"id":18263,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18260,"mutability":"mutable","name":"data","nameLocation":"2874:4:57","nodeType":"VariableDeclaration","scope":18307,"src":"2861:17:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18259,"name":"bytes","nodeType":"ElementaryTypeName","src":"2861:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":18262,"mutability":"mutable","name":"key","nameLocation":"2895:3:57","nodeType":"VariableDeclaration","scope":18307,"src":"2880:18:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":18261,"name":"bytes","nodeType":"ElementaryTypeName","src":"2880:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2860:39:57"},"returnParameters":{"id":18267,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18266,"mutability":"mutable","name":"result","nameLocation":"2943:6:57","nodeType":"VariableDeclaration","scope":18307,"src":"2930:19:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18265,"name":"bytes","nodeType":"ElementaryTypeName","src":"2930:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2929:21:57"},"scope":18324,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":18323,"nodeType":"FunctionDefinition","src":"4365:129:57","nodes":[],"body":{"id":18322,"nodeType":"Block","src":"4436:58:57","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":18320,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":18315,"name":"encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18166,"src":"4453:13:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":18317,"indexExpression":{"id":18316,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18310,"src":"4467:8:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4453:23:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":18318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4477:6:57","memberName":"length","nodeType":"MemberAccess","src":"4453:30:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":18319,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4486:1:57","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4453:34:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":18314,"id":18321,"nodeType":"Return","src":"4446:41:57"}]},"documentation":{"id":18308,"nodeType":"StructuredDocumentation","src":"4126:234:57","text":"  @notice         Returns whether the relvant batch of NFTs is subject to a delayed reveal.\n  @dev            Returns `true` if `_batchId`'s base URI is encrypted.\n  @param _batchId ID of a batch of NFTs."},"functionSelector":"492e224b","implemented":true,"kind":"function","modifiers":[],"name":"isEncryptedBatch","nameLocation":"4374:16:57","parameters":{"id":18311,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18310,"mutability":"mutable","name":"_batchId","nameLocation":"4399:8:57","nodeType":"VariableDeclaration","scope":18323,"src":"4391:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18309,"name":"uint256","nodeType":"ElementaryTypeName","src":"4391:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4390:18:57"},"returnParameters":{"id":18314,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18313,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":18323,"src":"4430:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":18312,"name":"bool","nodeType":"ElementaryTypeName","src":"4430:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4429:6:57"},"scope":18324,"stateMutability":"view","virtual":false,"visibility":"public"}],"abstract":true,"baseContracts":[{"baseName":{"id":18150,"name":"IDelayedReveal","nameLocations":["465:14:57"],"nodeType":"IdentifierPath","referencedDeclaration":33434,"src":"465:14:57"},"id":18151,"nodeType":"InheritanceSpecifier","src":"465:14:57"}],"canonicalName":"DelayedReveal","contractDependencies":[],"contractKind":"contract","documentation":{"id":18149,"nodeType":"StructuredDocumentation","src":"128:300:57","text":"  @title   Delayed Reveal\n  @notice  Thirdweb's `DelayedReveal` is a contract extension for base NFT contracts. It lets you create batches of\n           'delayed-reveal' NFTs. You can learn more about the usage of delayed reveal NFTs here - https://blog.thirdweb.com/delayed-reveal-nfts"},"fullyImplemented":false,"linearizedBaseContracts":[18324,33434],"name":"DelayedReveal","nameLocation":"448:13:57","scope":18325,"usedErrors":[18154,18161],"usedEvents":[33413]}],"license":"Apache-2.0"},"id":57}