"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createLightAccountAlchemyProvider = void 0;
const aa_accounts_1 = require("@alchemy/aa-accounts");
const schema_js_1 = require("../schema.js");
const base_js_1 = require("./base.js");
const createLightAccountAlchemyProvider = (config_) => {
    const config = schema_js_1.LightAccountAlchemyProviderConfigSchema.parse(config_);
    return new base_js_1.AlchemyProvider(config).connect((rpcClient) => new aa_accounts_1.LightSmartContractAccount({
        rpcClient,
        initCode: config.initCode,
        owner: config.owner,
        chain: config.chain,
        entryPointAddress: config.entryPointAddress,
        factoryAddress: config.factoryAddress ??
            (0, aa_accounts_1.getDefaultLightAccountFactoryAddress)(config.chain),
        accountAddress: config.accountAddress,
    }));
};
exports.createLightAccountAlchemyProvider = createLightAccountAlchemyProvider;
//# sourceMappingURL=light-account.js.map