{"version":3,"file":"provider.js","sourceRoot":"","sources":["../../../../src/light-account/provider.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AACxD,OAAO,EAAE,yBAAyB,EAAE,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,gCAAgC,EAAE,MAAM,aAAa,CAAC;AAE/D,OAAO,EAAE,oCAAoC,EAAE,MAAM,YAAY,CAAC;AAElE,MAAM,CAAC,MAAM,0BAA0B,GAAG,CACxC,OAAmC,EAC4B,EAAE;IACjE,MAAM,MAAM,GAAG,gCAAgC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAE/D,OAAO,IAAI,oBAAoB,CAAC;QAC9B,WAAW,EAAE,MAAM,CAAC,WAAW;QAC/B,KAAK,EAAE,MAAM,CAAC,KAAK;QACnB,iBAAiB,EAAE,MAAM,CAAC,iBAAiB;QAC3C,IAAI,EAAE,MAAM,CAAC,IAAI;KAClB,CAAC,CAAC,OAAO,CACR,CAAC,SAAS,EAAE,EAAE,CACZ,IAAI,yBAAyB,CAAC;QAC5B,SAAS;QACT,QAAQ,EAAE,MAAM,CAAC,QAAQ;QACzB,KAAK,EAAE,MAAM,CAAC,KAAK;QACnB,KAAK,EAAE,MAAM,CAAC,KAAK;QACnB,iBAAiB,EAAE,MAAM,CAAC,iBAAiB;QAC3C,cAAc,EACZ,MAAM,CAAC,cAAc;YACrB,oCAAoC,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC;QACpE,cAAc,EAAE,MAAM,CAAC,cAAc;KACtC,CAAC,CACL,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { SmartAccountProvider } from \"@alchemy/aa-core\";\nimport { LightSmartContractAccount } from \"./account.js\";\nimport { LightAccountProviderConfigSchema } from \"./schema.js\";\nimport type { LightAccountProviderConfig } from \"./types.js\";\nimport { getDefaultLightAccountFactoryAddress } from \"./utils.js\";\n\nexport const createLightAccountProvider = (\n  config_: LightAccountProviderConfig\n): SmartAccountProvider & { account: LightSmartContractAccount } => {\n  const config = LightAccountProviderConfigSchema.parse(config_);\n\n  return new SmartAccountProvider({\n    rpcProvider: config.rpcProvider,\n    chain: config.chain,\n    entryPointAddress: config.entryPointAddress,\n    opts: config.opts,\n  }).connect(\n    (rpcClient) =>\n      new LightSmartContractAccount({\n        rpcClient,\n        initCode: config.initCode,\n        owner: config.owner,\n        chain: config.chain,\n        entryPointAddress: config.entryPointAddress,\n        factoryAddress:\n          config.factoryAddress ??\n          getDefaultLightAccountFactoryAddress(config.chain, config.version),\n        accountAddress: config.accountAddress,\n      })\n  );\n};\n"]}