"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ExecutionAbiGenPhase = void 0;
const dedent_1 = __importDefault(require("dedent"));
const utils_js_1 = require("../utils.js");
const ExecutionAbiGenPhase = async (input) => {
    const { contract, content, plugin } = input;
    const { executionFunctions } = await plugin.read.pluginManifest();
    const executionAbi = (0, utils_js_1.extractExecutionAbi)(executionFunctions, contract.abi);
    content.push((0, dedent_1.default) `
    export const ${(0, utils_js_1.executionAbiConst)(contract.name)} = ${JSON.stringify(executionAbi)} as const;
  `);
    return input;
};
exports.ExecutionAbiGenPhase = ExecutionAbiGenPhase;
//# sourceMappingURL=execution-abi-gen.js.map