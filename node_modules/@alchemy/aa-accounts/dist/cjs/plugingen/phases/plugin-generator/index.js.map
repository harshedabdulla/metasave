{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../plugingen/phases/plugin-generator/index.ts"],"names":[],"mappings":";;;;;;AAAA,8CAA6C;AAC7C,oDAA4B;AAE5B,mEAAgE;AAChE,+DAA4D;AAC5D,+CAA6C;AAC7C,6DAAwE;AAEjE,MAAM,oBAAoB,GAAU,KAAK,EAAE,KAAK,EAAE,EAAE;IACzD,MAAM,YAAY,GAAY;QAC5B,0BAAY;QACZ,yCAAmB;QACnB,6CAAqB;QACrB,iCAAsB;KACvB,CAAC;IACF,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;IACtC,SAAS,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IAE3D,MAAM,MAAM,GAAG,MAAM,IAAA,mBAAS,EAAC,GAAG,YAAY,CAAC,CAAC;QAC9C,GAAG,KAAK;QACR,OAAO,EAAE,EAAE;KACZ,CAAC,CAAC;IAEH,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAA,gBAAM,EAAA;YACf,QAAQ,CAAC,IAAI;UACf,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;;;mBAGjB,QAAQ,CAAC,IAAI,8BAC5B,QAAQ,CAAC,IACX,2CACE,QAAQ,CAAC,IACX,iCAAiC,QAAQ,CAAC,IAAI,UAAU,QAAQ,CAAC,IAAI;GACpE,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AA5BW,QAAA,oBAAoB,wBA4B/B","sourcesContent":["import { asyncPipe } from \"@alchemy/aa-core\";\nimport dedent from \"dedent\";\nimport type { Phase } from \"../../types\";\nimport { AccountMethodGenPhase } from \"./account-method-gen.js\";\nimport { GetContractGenPhase } from \"./get-contract-gen.js\";\nimport { MetaGenPhase } from \"./meta-gen.js\";\nimport { ProviderMethodGenPhase } from \"./provider-method-gen/index.js\";\n\nexport const PluginGeneratorPhase: Phase = async (input) => {\n  const pluginPhases: Phase[] = [\n    MetaGenPhase,\n    GetContractGenPhase,\n    AccountMethodGenPhase,\n    ProviderMethodGenPhase,\n  ];\n  const { contract, addImport } = input;\n  addImport(\"../types.js\", { name: \"Plugin\", isType: true });\n\n  const result = await asyncPipe(...pluginPhases)({\n    ...input,\n    content: [],\n  });\n\n  input.content.push(dedent`\n    const ${contract.name}_ = {\n        ${result.content.join(\",\\n\")}\n    };\n\n    export const ${contract.name}: Plugin<ReturnType<typeof ${\n    contract.name\n  }_[\"accountMethods\"]>, ReturnType<typeof ${\n    contract.name\n  }_[\"providerMethods\"]>, typeof ${contract.name}Abi> = ${contract.name}_;\n  `);\n\n  return input;\n};\n"]}