{"version":3,"file":"uninstallPlugin.js","sourceRoot":"","sources":["../../../../../src/msca/plugin-manager/uninstallPlugin.ts"],"names":[],"mappings":";;;AAIA,+BAAmE;AACnE,iEAA8D;AASvD,KAAK,UAAU,eAAe,CAGnC,QAAW,EACX,MAA6B,EAC7B,SAAkC;IAElC,MAAM,QAAQ,GAAG,MAAM,kCAAkC,CAAC,MAAM,CAAC,CAAC;IAClE,OAAO,QAAQ,CAAC,iBAAiB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;AACzD,CAAC;AATD,0CASC;AAEM,KAAK,UAAU,kCAAkC,CACtD,MAA6B;IAE7B,OAAO,IAAA,yBAAkB,EAAC;QACxB,GAAG,EAAE,qCAAiB;QACtB,YAAY,EAAE,iBAAiB;QAC/B,IAAI,EAAE;YACJ,MAAM,CAAC,aAAa;YACpB,MAAM,CAAC,MAAM,IAAI,IAAI;YACrB,MAAM,CAAC,mBAAmB,IAAI,IAAI;SACnC;KACF,CAAC,CAAC;AACL,CAAC;AAZD,gFAYC","sourcesContent":["import type {\n  ISmartAccountProvider,\n  UserOperationOverrides,\n} from \"@alchemy/aa-core\";\nimport { encodeFunctionData, type Address, type Hash } from \"viem\";\nimport { IPluginManagerAbi } from \"../abis/IPluginManager.js\";\nimport type { IMSCA } from \"../types.js\";\n\nexport type UninstallPluginParams = {\n  pluginAddress: Address;\n  config?: Hash;\n  pluginUninstallData?: Hash;\n};\n\nexport async function uninstallPlugin<\n  P extends ISmartAccountProvider & { account: IMSCA }\n>(\n  provider: P,\n  params: UninstallPluginParams,\n  overrides?: UserOperationOverrides\n) {\n  const callData = await encodeUninstallPluginUserOperation(params);\n  return provider.sendUserOperation(callData, overrides);\n}\n\nexport async function encodeUninstallPluginUserOperation(\n  params: UninstallPluginParams\n) {\n  return encodeFunctionData({\n    abi: IPluginManagerAbi,\n    functionName: \"uninstallPlugin\",\n    args: [\n      params.pluginAddress,\n      params.config ?? \"0x\",\n      params.pluginUninstallData ?? \"0x\",\n    ],\n  });\n}\n"]}